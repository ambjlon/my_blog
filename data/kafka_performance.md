性能测试使用kafka官方给出的标准测试方案.  
### 环境描述
1. 整体环境部署在五台物理机器
    + xxx-kafka-server00 10.110.115.13
    + xxx-kafka-server01 10.110.115.13
    + xxx-kafka-server02 10.110.90.20
    + xxx-kafka-server03 10.110.90.30
    + xxx-kafka-server04 10.110.90.123
2. zookeeper部署在前面三台机器上，服务端口号2181，选举端口号3888。
3. kafka环境部署在五台机器上。端口号9502.
4. 五台机器的硬件信息
    + cpu: 1个物理cpu Intel(R) Xeon(R) CPU E5-2420 v2 @ 2.20GHz 6核12线程 22nm工艺
    + 内存: 31945KB(?)
    + 网络环境: 五台机器在局域网内进行通信.
### 性能测试
#### 生产者性能
+ 测试1
    - 1个生产者，1个有6个分区的topic，不使用备份
    - 测试结果:
    
        |  吞吐率  |  传输速率 | 平均时延  |最大时延|
        | :--------:| :--------:| :--: |:---:|
        | 45MB/sec  | 476108records/sec | 1116ms |3779ms|

+ 测试2
    - 1个生产者，1个有6个分区的topic，使用3个异步备份。
    - 测试结果：
    
        |  吞吐率  |  传输速率 | 平均时延  |最大时延|
        | :--------:| :--------:| :--: |:---:|
        | 38.5MB/sec  | 403655records/sec | 1284ms |4805ms|

+ 测试3
    - 1个生产者，1个有6个分区的topic，使用3个同步备份。
    - 测试结果：
    
        |  吞吐率  |  传输速率 | 平均时延  |最大时延|
        | :--------:| :--------:| :--: |:---:|
        | 27.5MB/sec  | 288952records/sec | 1787ms |6053ms|
    
+ 测试4
    - 3个生产者，1个有6个分区的topic，使用3个异步备份
    - 测试结果：
    
        |  总吞吐率  |  总传输速率 | 平均时延  |最大时延|
        | :--------:| :--------:| :--: |:---:|
        | 141MB/sec  | 1489290records/sec | -- |4607ms|

#### 消费者性能
请注意，备份数和是否同步备份并不影响消费者的性能，因为消费者总是读取已经完全确认的消息。

+ 测试5
    - 单个消费者
    - 测试结果:
    
        | 总吞吐率  |  总传输速率 | 
        | :--------:| :--------:|
        | 97MB/sec  | 1017293records/sec |

+ 测试6
    - 三个消费者
    - 测试结果

        | 总吞吐率  |  总传输速率 | 
        | :--------:| :--------:|
        | 550MB/sec  | 6000000records/sec |

#### 端到端平均延迟
+ 平均延迟1.0198ms
